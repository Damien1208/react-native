{"ast":null,"code":"var _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useKeepAwake = useKeepAwake;\nexports.activateKeepAwake = activateKeepAwake;\nexports.deactivateKeepAwake = deactivateKeepAwake;\nexports.activate = activate;\nexports.deactivate = deactivate;\nexports.default = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _ExpoKeepAwake = _interopRequireDefault(require(\"./ExpoKeepAwake\"));\n\nvar __keepAwakeMountedCount = 0;\nvar ExpoKeepAwakeTag = 'ExpoKeepAwakeDefaultTag';\n\nvar KeepAwake = function (_React$PureComponent) {\n  (0, _inherits2.default)(KeepAwake, _React$PureComponent);\n\n  function KeepAwake() {\n    (0, _classCallCheck2.default)(this, KeepAwake);\n    return (0, _possibleConstructorReturn2.default)(this, (0, _getPrototypeOf2.default)(KeepAwake).apply(this, arguments));\n  }\n\n  (0, _createClass2.default)(KeepAwake, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      console.warn(\"The KeepAwake component has been deprecated in favor of the useKeepAwake hook and will be removed in SDK 35\");\n      __keepAwakeMountedCount++;\n\n      if (__keepAwakeMountedCount === 1) {\n        activateKeepAwake();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      __keepAwakeMountedCount--;\n\n      if (__keepAwakeMountedCount === 0) {\n        deactivateKeepAwake();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return null;\n    }\n  }]);\n  return KeepAwake;\n}(_react.default.PureComponent);\n\nexports.default = KeepAwake;\n\nKeepAwake.activate = function (tag) {\n  console.warn(\"The \\\"KeepAwake.activate\\\" static method has been deprecated in favor of the \\\"activateKeepAwake\\\" function exported from expo-keep-awake and will be removed in SDK 35\");\n  activateKeepAwake(tag);\n};\n\nKeepAwake.deactivate = function (tag) {\n  console.warn(\"The \\\"KeepAwake.deactivate\\\" static method has been deprecated in favor of the \\\"deactivateKeepAwake\\\" function exported from expo-keep-awake and will be removed in SDK 35\");\n  deactivateKeepAwake(tag);\n};\n\nfunction useKeepAwake() {\n  var tag = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : ExpoKeepAwakeTag;\n  (0, _react.useEffect)(function () {\n    activateKeepAwake(tag);\n    return function () {\n      return deactivateKeepAwake(tag);\n    };\n  }, [tag]);\n}\n\nfunction activateKeepAwake() {\n  var tag = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : ExpoKeepAwakeTag;\n\n  _ExpoKeepAwake.default.activate(tag);\n}\n\nfunction deactivateKeepAwake() {\n  var tag = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : ExpoKeepAwakeTag;\n\n  _ExpoKeepAwake.default.deactivate(tag);\n}\n\nfunction activate(tag) {\n  console.warn(\"\\\"activate\\\" from expo-keep-awake has been deprecated in favor of \\\"activateKeepAwake\\\" and will be removed in SDK 35\");\n  activateKeepAwake(tag);\n}\n\nfunction deactivate(tag) {\n  console.warn(\"\\\"deactivate\\\" from expo-keep-awake has been deprecated in favor of \\\"deactivateKeepAwake\\\" and will be removed in SDK 35\");\n  deactivateKeepAwake(tag);\n}","map":{"version":3,"sources":["../src/index.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AAIA,IAAI,uBAAuB,GAAG,CAA9B;AACA,IAAM,gBAAgB,GAAG,yBAAzB;;IAEqB,S;;;;;;;;;;wCAWF;AACf,MAAA,OAAO,CAAC,IAAR;AACA,MAAA,uBAAuB;;AACvB,UAAI,uBAAuB,KAAK,CAAhC,EAAmC;AACjC,QAAA,iBAAiB;AAClB;AACF;;;2CAEmB;AAClB,MAAA,uBAAuB;;AACvB,UAAI,uBAAuB,KAAK,CAAhC,EAAmC;AACjC,QAAA,mBAAmB;AACpB;AACF;;;6BAEK;AACJ,aAAO,IAAP;AACD;;;EA5BoC,eAAM,a;;;;AACpC,SAAA,CAAA,QAAA,GAAW,UAAC,GAAD,EAAuB;AACvC,EAAA,OAAO,CAAC,IAAR;AACA,EAAA,iBAAiB,CAAC,GAAD,CAAjB;AACD,CAHM;;AAKA,SAAA,CAAA,UAAA,GAAa,UAAC,GAAD,EAAuB;AACzC,EAAA,OAAO,CAAC,IAAR;AACA,EAAA,mBAAmB,CAAC,GAAD,CAAnB;AACD,CAHM;;AAyBH,SAAU,YAAV,GAAqD;AAAA,MAA9B,GAA8B,uEAAhB,gBAAgB;AACzD,wBAAU,YAAK;AACb,IAAA,iBAAiB,CAAC,GAAD,CAAjB;AACA,WAAO;AAAA,aAAM,mBAAmB,CAAC,GAAD,CAAzB;AAAA,KAAP;AACD,GAHD,EAGG,CAAC,GAAD,CAHH;AAID;;AAEK,SAAU,iBAAV,GAA0D;AAAA,MAA9B,GAA8B,uEAAhB,gBAAgB;;AAC9D,yBAAc,QAAd,CAAuB,GAAvB;AACD;;AAEK,SAAU,mBAAV,GAA4D;AAAA,MAA9B,GAA8B,uEAAhB,gBAAgB;;AAChE,yBAAc,UAAd,CAAyB,GAAzB;AACD;;AAEK,SAAU,QAAV,CAAmB,GAAnB,EAA+B;AACnC,EAAA,OAAO,CAAC,IAAR;AAGA,EAAA,iBAAiB,CAAC,GAAD,CAAjB;AACD;;AAEK,SAAU,UAAV,CAAqB,GAArB,EAAiC;AACrC,EAAA,OAAO,CAAC,IAAR;AAGA,EAAA,mBAAmB,CAAC,GAAD,CAAnB;AACD","sourcesContent":["import React, { useEffect } from 'react';\nimport ExpoKeepAwake from './ExpoKeepAwake';\n\n// NOTE(brentvatne): in tests this value won't be reset because we\n// can render a component and never unmount it.\nlet __keepAwakeMountedCount = 0;\nconst ExpoKeepAwakeTag = 'ExpoKeepAwakeDefaultTag';\n\nexport default class KeepAwake extends React.PureComponent {\n  static activate = (tag?: string): void => {\n    console.warn(`The \"KeepAwake.activate\" static method has been deprecated in favor of the \"activateKeepAwake\" function exported from expo-keep-awake and will be removed in SDK 35`);\n    activateKeepAwake(tag);\n  };\n\n  static deactivate = (tag?: string): void => {\n    console.warn(`The \"KeepAwake.deactivate\" static method has been deprecated in favor of the \"deactivateKeepAwake\" function exported from expo-keep-awake and will be removed in SDK 35`);\n    deactivateKeepAwake(tag);\n  };\n\n  componentDidMount() {\n    console.warn(`The KeepAwake component has been deprecated in favor of the useKeepAwake hook and will be removed in SDK 35`);\n    __keepAwakeMountedCount++;\n    if (__keepAwakeMountedCount === 1) {\n      activateKeepAwake();\n    }\n  }\n\n  componentWillUnmount() {\n    __keepAwakeMountedCount--;\n    if (__keepAwakeMountedCount === 0) {\n      deactivateKeepAwake();\n    }\n  }\n\n  render() {\n    return null;\n  }\n}\n\nexport function useKeepAwake(tag: string = ExpoKeepAwakeTag): void {\n  useEffect(() => {\n    activateKeepAwake(tag);\n    return () => deactivateKeepAwake(tag);\n  }, [tag]);\n}\n\nexport function activateKeepAwake(tag: string = ExpoKeepAwakeTag): void {\n  ExpoKeepAwake.activate(tag);\n}\n\nexport function deactivateKeepAwake(tag: string = ExpoKeepAwakeTag): void {\n  ExpoKeepAwake.deactivate(tag);\n}\n\nexport function activate(tag?: string): void {\n  console.warn(\n    `\"activate\" from expo-keep-awake has been deprecated in favor of \"activateKeepAwake\" and will be removed in SDK 35`\n  );\n  activateKeepAwake(tag);\n}\n\nexport function deactivate(tag?: string): void {\n  console.warn(\n    `\"deactivate\" from expo-keep-awake has been deprecated in favor of \"deactivateKeepAwake\" and will be removed in SDK 35`\n  );\n  deactivateKeepAwake(tag);\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"script"}